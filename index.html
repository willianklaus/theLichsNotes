<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>theLich'sNotes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
    <style>
        /* Estilos globais e variáveis */
        :root {
            --primary-bg: #15171E;
            --secondary-bg: #1c1c1c;
            --input-bg: #202024;
            --primary-text: #e0e0e0;
            --secondary-text: #7C7C8A;
            --brand-color: #0582E9;
            --hover-color: #5d7fe2;
            --shadow-color: #15171E;
        }

        body {
            background-color: var(--primary-bg);
            color: var(--primary-text);
            font-family: 'Roboto', sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* O app-container fica acima da animação de fundo */
        .app-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease-in-out;
            z-index: 1; /* Garante que o conteúdo fique acima do canvas */
        }
        
        .login-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 450px;
        }

        .login-box {
            background-color: transparent;
            padding: 40px;
            border-radius: 12px;
            box-shadow: none;
            text-align: center;
            width: 100%;
        }

        .login-box h1 {
            font-family: 'UnifrakturCook', serif;
            font-weight: 700;
            font-size: 4.5em; /* Aumentado o tamanho da fonte */
            margin-bottom: 100px; /* Aumentado a margem para mover para cima */
            color: var(--brand-color);
            text-shadow: 0 0 10px rgba(5, 130, 233, 0.5);
        }

        .input-group {
            margin-bottom: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            position: relative; /* Necessário para posicionar a mensagem de erro */
        }
        
        .login-input {
            width: 50%;
            padding: 14px;
            padding-left: 20px; /* Adicionado padding para a esquerda */
            border: 1px solid #444;
            border-radius: 10px;
            background-color: var(--input-bg);
            color: var(--primary-text);
            font-size: 1em;
            box-sizing: border-box;
            transition: border-color 0.4s, box-shadow 0.4s;
            text-align: left; /* Alinhado o texto à esquerda */
        }
        
        .login-input:hover {
            border-color: var(--brand-color);
            box-shadow: 0 0 0 3px rgba(5, 130, 233, 0.4);
        }

        .login-input::placeholder {
            color: var(--secondary-text);
        }

        .login-input:focus {
            outline: none;
            border-color: var(--brand-color);
            box-shadow: 0 0 0 3px rgba(5, 130, 233, 0.4);
        }

        .input-error {
            border-color: #ff4d4d !important;
        }
        
        .error-message {
            color: #ff4d4d;
            font-size: 0.8em;
            margin-top: 5px;
            text-align: left;
            width: 50%;
            display: none; /* Escondido por padrão */
        }

        .api-link {
            text-align: center;
            margin-top: -15px;
            margin-bottom: 25px;
            width: 100%;
        }

        .api-link a {
            color: var(--secondary-text);
            text-decoration: underline;
            font-size: 0.9em;
            transition: all 0.4s ease-in-out;
        }

        .api-link a:hover {
            color: var(--brand-color);
            text-shadow: 0 0 5px var(--brand-color);
        }

        button {
            width: 50%;
            padding: 10px 20px;
            background-color: transparent;
            color: var(--brand-color);
            border: 1px solid var(--brand-color);
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.4s ease-in-out;
            box-shadow: 0 0 0 rgba(5, 130, 233, 0);
            margin-top: 25px;
        }

        button:hover {
            background-color: var(--brand-color);
            color: var(--primary-bg);
            box-shadow: 0 0 15px var(--brand-color);
        }

        /* Estilos do chat */
        .chat-screen {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
            max-width: 1000px;
            padding: 20px;
            box-sizing: border-box;
            justify-content: space-between;
        }
        
        .chat-header {
            text-align: center;
            padding: 20px 0;
            color: var(--brand-color);
            font-weight: 700;
            font-size: 2.5em;
        }

        .chat-header h2 {
            margin-top: 200px;
            font-family: 'UnifrakturCook', serif;
        }

        .chat-body {
            flex-grow: 1;
            width: 100%;
            overflow-y: auto;
            padding: 20px 0;
            display: flex;
            flex-direction: column;
        }

        .chat-message {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .user-message {
            background-color: #4a4a4a;
            align-self: flex-end;
            margin-left: auto;
        }

        .gemini-message {
            background-color: #2e2e2e;
            align-self: flex-start;
            margin-right: auto;
        }
        
        .chat-input-area {
            width: 100%;
            display: flex;
            align-items: center;
            background-color: var(--secondary-bg);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
        }

        .chat-input-area input {
            flex-grow: 1;
            padding: 12px 15px;
            border: none;
            background-color: transparent;
            color: var(--primary-text);
            font-size: 1em;
            outline: none;
        }
        
        .chat-input-area button {
            background: none;
            border: none;
            cursor: pointer;
            width: auto;
            padding: 0;
            margin-left: 10px;
        }

        .chat-input-area button svg {
            fill: var(--brand-color);
            width: 24px;
            height: 24px;
        }
        
        .hidden {
            display: none;
        }
        
        /* Estilos do Canvas de Fundo */
        canvas#neuro {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.95;
        }

        /* Media Queries para responsividade */
        @media (max-width: 768px) {
            body {
                height: auto;
                min-height: 100vh;
            }

            .app-container {
                padding: 10px;
            }

            .login-box {
                padding: 20px;
            }

            .login-box h1 {
                font-size: 1.8em;
            }
            
            .chat-screen {
                padding: 10px;
            }

            .chat-header {
                font-size: 1.5em;
            }

            .chat-body {
                padding: 10px 0;
            }

            .chat-input-area {
                padding: 10px;
            }
        }
    </style>
</head>
<body>

    <canvas id="neuro"></canvas>
    
    <script type="x-shader/x-fragment" id="vertShader">
        precision mediump float;

        varying vec2 vUv;
        attribute vec2 a_position;

        void main() {
            vUv = .5 * (a_position + 1.);
            gl_Position = vec4(a_position, 0.0, 1.0);
        }
    </script>

    <script type="x-shader/x-fragment" id="fragShader">
        precision mediump float;

        varying vec2 vUv;
        uniform float u_time;
        uniform float u_ratio;
        uniform vec2 u_pointer_position;
        uniform float u_scroll_progress;

        vec2 rotate(vec2 uv, float th) {
            return mat2(cos(th), sin(th), -sin(th), cos(th)) * uv;
        }

        float neuro_shape(vec2 uv, float t, float p) {
            vec2 sine_acc = vec2(0.);
            vec2 res = vec2(0.);
            float scale = 8.;

            for (int j = 0; j < 15; j++) {
                uv = rotate(uv, 1.);
                sine_acc = rotate(sine_acc, 1.);
                vec2 layer = uv * scale + float(j) + sine_acc - t;
                sine_acc += sin(layer);
                res += (.5 + .5 * cos(layer)) / scale;
                scale *= (1.2 - .07 * p);
            }
            return res.x + res.y;
        }

        void main() {
            vec2 uv = .5 * vUv;
            uv.x *= u_ratio;

            vec2 pointer = vUv - u_pointer_position;
            pointer.x *= u_ratio;
            float p = clamp(length(pointer), 0., 1.);
            p = .5 * pow(1. - p, 2.);

            float t = .001 * u_time;
            vec3 color = vec3(0.);

            float noise = neuro_shape(uv, t, p);

            noise = 1.2 * pow(noise, 3.);
            noise += pow(noise, 20.);
            noise = max(.0, noise - .5);
            noise *= (1. - length(vUv - .5));
            

            vec3 brandColor = vec3(0.02, 0.51, 0.91); // RGB de #0582E9
            float pulse = 3.5 + 0.5 * sin(u_time * 0.002);
            color = brandColor * noise;

            gl_FragColor = vec4(color, noise);
            
        }
    </script>
    
    <div class="app-container" id="login-container">
        <div class="login-screen">
        <div class ="lich-tag">
            <svg width="96" height="220" viewBox="0 0 97 240" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M48.1828 0.424501C47.8665 1.21235 46.8122 7.31817 45.8633 13.9164C43.6492 30.1658 42.384 32.9232 42.1731 22.0903L41.9623 13.7194L39.6427 26.6204C38.2721 33.7111 36.6906 40.9002 36.058 42.7713C34.4765 46.7106 34.4765 47.006 35.8472 46.2181C37.4287 45.3318 37.1124 47.006 35.32 49.2711C33.5277 51.4376 33.5277 51.4376 33.7385 41.7865C33.844 37.1579 33.5277 34.7944 32.8951 35.3852C31.5244 36.764 28.256 49.5665 28.9941 50.6498C29.3104 51.1422 28.9941 52.8164 28.256 54.2936C27.3071 56.2632 27.0963 59.6116 27.518 65.4219C27.9397 71.6262 28.1506 72.5126 28.3615 68.8688C28.6778 62.369 29.8375 56.3617 30.7864 56.7556C32.157 57.3465 37.9558 52.5209 37.9558 50.8468C37.9558 49.8619 38.5884 48.1878 39.4319 47.1045C40.3808 45.8242 40.5916 44.6425 40.0645 43.7561C39.5373 42.9683 39.5373 41.885 39.959 41.2941C40.4862 40.8017 41.646 38.1427 42.7003 35.4837L44.5981 30.7566L46.0741 35.9761C46.9176 38.9306 47.9719 41.688 48.4991 42.1804C49.5534 43.1652 51.3458 39.6199 52.4001 34.5974C52.7164 33.1202 53.2435 31.9384 53.6653 31.9384C54.9305 31.9384 58.726 42.6728 57.8826 43.8546C57.4608 44.544 57.7771 46.0212 58.6206 47.1045C59.4641 48.1878 60.0967 49.7635 60.0967 50.6498C60.0967 51.4376 61.151 53.2103 62.3107 54.589C63.4705 55.9678 64.1031 56.3617 63.6814 55.5738C62.9433 54.2936 63.0488 54.2936 64.9466 55.5738C68.3204 58.0359 68.5313 58.7252 68.5313 68.3764V77.6336L64.6303 71.8232C62.4162 68.5733 60.7293 65.6189 60.9401 65.1265C61.0456 64.7326 60.7293 64.4371 60.0967 64.4371C58.726 64.4371 58.726 64.831 60.6238 69.0657C62.3107 72.9065 62.7325 82.8531 61.2564 85.0196C60.7293 85.8075 59.5695 86.1029 58.5152 85.8075C57.5663 85.4136 57.0391 84.7242 57.3554 84.2318C57.6717 83.7394 56.4065 80.6865 54.4033 77.4366C52.5055 74.1867 50.5023 70.4445 49.9751 69.0657C49.1317 66.8007 48.7099 67.1946 44.8089 74.8761C42.384 79.4062 41.3297 82.4591 42.1731 81.6713C45.1252 79.2093 45.6524 79.9971 43.2275 83.1485C36.9015 91.5194 32.0516 80.9819 36.9015 69.1642L38.9047 63.9447L35.8472 67.3916C30.2592 73.6943 25.1985 84.2318 24.5659 90.9285C24.0387 96.5419 24.1442 97.1328 26.2528 97.6252C27.9397 98.0191 28.4669 99.0039 28.5723 101.761L28.7832 105.307L29.5212 101.86L30.2592 98.4131L30.4701 101.86C30.681 104.617 30.8918 104.913 31.5244 103.337C32.2625 101.663 32.3679 101.663 33.1059 104.125C33.4222 105.602 34.2657 106.587 34.6874 106.292C35.2146 105.996 35.9526 106.39 36.1635 106.981C36.4798 107.67 36.4798 106.882 36.1635 105.208C35.5309 101.269 38.2721 92.2088 41.2242 88.6634C42.4894 87.1862 43.7546 86.2014 43.9655 86.4969C44.2818 86.7923 43.5437 88.171 42.2786 89.6483C39.1156 93.3905 39.5373 94.6708 42.8057 91.3224C45.2307 88.7619 45.3361 88.7619 43.86 91.027C43.0166 92.4057 42.0677 95.2617 41.646 97.4282L41.0134 101.367L43.122 97.4282C44.1763 95.2617 45.2307 93.9814 45.2307 94.5723C45.3361 95.7541 42.2786 104.42 39.8536 109.738C35.7417 118.602 35.32 122.048 38.483 120.965C39.3264 120.571 39.7482 119.98 39.4319 119.488C39.1156 118.996 39.4319 118.602 39.959 118.602C40.5916 118.602 41.8568 117.124 42.7003 115.352C43.9655 112.594 44.0709 112.594 43.6492 114.859C43.2275 116.632 43.9655 118.897 45.8633 122.048L48.8154 126.579L51.8729 121.556C54.6142 117.026 54.825 116.14 53.7707 113.087C51.8729 107.769 53.349 108.064 55.4576 113.382C56.512 115.943 57.988 118.7 58.8315 119.488C59.9912 120.571 59.8858 121.064 58.4097 122.639C57.4608 123.723 57.0391 124.511 57.5663 124.511C59.3586 124.412 62.4162 119.586 61.3619 118.306C60.8347 117.617 60.0967 116.041 59.7804 114.662C59.4641 113.284 57.4608 107.572 55.4576 101.958C51.3458 91.027 51.0295 88.2695 54.6142 95.1632C55.8794 97.5267 56.8283 98.9055 56.9337 98.2161C57.0391 95.8526 54.6142 91.4209 51.3458 88.0726C48.3936 85.0196 48.4991 85.0196 52.5055 88.565C54.9305 90.6331 56.9337 91.9133 56.9337 91.4209C56.9337 90.83 55.9848 89.5498 54.825 88.565C53.6653 87.5802 52.7164 86.2999 52.7164 85.8075C52.7164 84.0348 57.1445 88.4665 59.2532 92.4057C60.5184 94.6708 61.3619 98.4131 61.4673 101.958C61.5727 105.11 61.889 107.276 61.9944 106.784C62.2053 106.193 63.0488 105.799 63.8922 105.799C64.7357 105.799 65.3683 105.011 65.4737 104.026C65.4737 102.648 65.6846 102.648 66.4226 104.322C67.2661 106.095 67.3715 106.095 67.3715 104.519C67.4769 103.534 67.8987 102.943 68.4258 103.337C69.0584 103.633 69.5856 102.155 69.7965 100.186L70.2182 96.4434L71.2725 99.8903L72.4323 103.337L73.1703 99.2994C73.9083 95.3601 71.5888 81.6713 69.9019 80.0956C69.3747 79.6032 69.4802 74.5807 70.0073 68.7703C70.7454 60.8918 70.6399 57.5435 69.691 54.8845C68.6367 52.127 68.5313 51.2407 69.5856 50.6498C70.4291 50.1574 70.5345 49.665 69.7965 49.2711C69.1639 48.9756 67.7932 45.2333 66.8443 40.9987L64.9466 33.4156L64.1031 38.3397C63.6814 40.9987 63.5759 44.7409 63.8922 46.4151C64.314 48.4832 64.1031 49.665 63.3651 49.665C62.7325 49.665 62.2053 48.6802 62.2053 47.4984C62.2053 46.4151 61.2564 40.7032 60.2021 34.9913C59.0423 29.2794 57.7771 22.2873 57.3554 19.6283L56.512 14.7042L55.7739 19.1359C55.3522 21.5979 55.2468 24.6508 55.5631 26.0296C55.9848 27.8022 55.7739 28.1961 55.0359 27.5068C54.4033 26.9159 53.0327 22.0903 52.1892 16.6739C49.5534 1.60627 48.9208 -1.24968 48.1828 0.424501ZM55.8794 81.6713C57.988 84.0348 56.512 84.4288 54.2979 82.1637C53.2435 81.0804 52.9272 80.1941 53.4544 80.1941C54.087 80.1941 55.1413 80.8834 55.8794 81.6713ZM51.5566 101.171C51.6621 101.663 51.2403 101.663 50.6077 101.367C50.0806 101.072 49.5534 99.7918 49.6588 98.61C49.6588 96.5419 49.7643 96.5419 50.6077 98.4131C51.1349 99.4963 51.5566 100.777 51.5566 101.171Z" fill="#0582E9"/>
<path d="M17.5033 53.3092C14.762 61.3847 12.0208 69.0662 11.3882 70.5434C10.861 72.0206 10.6502 73.6948 11.0719 74.1872C11.3882 74.7781 11.0719 75.2705 10.2284 75.2705C8.5415 75.2705 4.85136 82.5581 3.69161 88.073C3.37531 89.9441 2.84815 92.4062 2.53185 93.4894C2.32098 94.5727 2.84815 94.0803 3.69161 92.5046C4.53507 90.8305 5.16766 88.5654 5.2731 87.3836C5.2731 84.1338 8.5415 77.1416 9.59583 77.831C10.123 78.1264 11.0719 77.2401 11.8099 75.8614C13.0751 73.2024 15.3946 72.2176 14.3403 74.7781C14.024 75.5659 14.024 76.2553 14.3403 76.2553C14.5512 76.2553 15.2892 75.0735 15.8164 73.6948C16.4489 72.316 17.2924 71.4297 17.8196 71.7252C18.2413 72.0206 19.6119 71.3312 20.6662 70.2479C22.4586 68.4753 22.6695 66.4072 22.7749 53.5062C22.7749 45.4307 22.7749 38.8325 22.6695 38.8325C22.564 38.8325 20.2445 45.3323 17.5033 53.3092Z" fill="#0582E9"/>
<path d="M42.9887 28.1752C41.3018 31.3266 41.1963 35.9552 42.6724 36.8416C43.305 37.137 43.7267 38.3188 43.7267 39.4021C43.7267 40.4854 44.4648 42.7504 45.5191 44.5231C47.1006 47.379 47.3114 47.4775 48.0495 45.7048L46.7625 46.0666C46.8679 49.1195 53.2157 43.0459 53.2157 39.796C53.2157 38.0233 53.6374 37.334 54.5863 37.6294C56.1678 38.2203 55.8515 31.1297 54.0591 27.6828C52.4776 24.7284 51.845 24.9254 50.2635 28.6676C48.9984 31.819 48.8929 31.819 47.4169 30.0464C46.5734 28.9631 45.8354 27.4859 45.8354 26.7965C45.8354 24.6299 44.3593 25.4178 42.9887 28.1752ZM53.532 35.4628C52.8994 36.0537 52.7939 35.1674 53.1102 33.1978C53.532 30.4403 53.7428 30.3418 54.0591 32.3114C54.27 33.5917 54.0591 34.9704 53.532 35.4628ZM51.4233 35.3643C51.107 36.5461 50.5798 37.2355 50.2635 36.94C49.7364 36.3492 50.7907 33.3947 51.5287 33.3947C51.7396 33.3947 51.7396 34.2811 51.4233 35.3643Z" fill="#0582E9"/>
<path d="M74.54 54.2945C74.7509 68.5742 74.7509 68.7712 77.703 71.7256C79.3899 73.3998 81.604 75.4679 82.7637 76.2557C84.8724 77.7329 84.8724 77.6344 82.8692 75.4679C80.866 73.3013 81.8149 72.3165 84.0289 74.3846C86.3485 76.5512 86.243 73.5967 83.7126 65.4228C81.4986 58.2337 74.8563 39.8178 74.4346 39.8178C74.4346 39.8178 74.4346 46.3175 74.54 54.2945Z" fill="#0582E9"/>
<path d="M55.9834 62.0737C56.0888 66.8993 56.5106 72.1188 57.0377 73.7929C57.4595 75.4671 57.5649 71.9218 57.2486 65.4221C56.9323 59.2178 56.5106 53.8998 56.2997 53.7028C56.0888 53.5059 55.9834 57.2481 55.9834 62.0737Z" fill="#0582E9"/>
<path d="M41.3303 57.0516C41.1194 57.544 40.8031 62.2711 40.5922 67.3921C40.2759 74.9751 40.3814 75.9599 41.2248 72.8085C41.752 70.6419 42.0683 66.0133 41.8574 62.468C41.6466 58.9227 41.4357 56.4607 41.3303 57.0516Z" fill="#0582E9"/>
<path d="M31.8413 64.4376C31.8413 65.8163 32.0522 66.3087 32.3685 65.6193C32.5793 65.0285 32.5793 63.8467 32.3685 63.1573C32.0522 62.5664 31.8413 63.0588 31.8413 64.4376Z" fill="#0582E9"/>
<path d="M20.2423 74.9742C17.8174 81.1785 17.7119 81.7694 19.2934 80.1937C20.664 78.9135 22.6673 72.3152 21.7184 72.3152C21.5075 72.3152 20.8749 73.497 20.2423 74.9742Z" fill="#0582E9"/>
<path d="M76.7547 77.1411C76.9656 78.8152 77.8091 80.6864 78.6525 81.2773C79.9177 82.1636 79.9177 81.8681 78.9688 79.1107C77.2819 74.5806 76.1221 73.5957 76.7547 77.1411Z" fill="#0582E9"/>
<path d="M85.9265 75.3689C85.5048 75.9598 86.1374 77.3385 87.2971 78.5203C88.4569 79.7021 89.9329 82.4595 90.671 84.6261C91.409 86.7927 92.3579 89.4517 92.885 90.535C93.6231 92.4061 93.7285 92.4061 93.7285 90.4365C93.9394 86.3003 90.3547 78.0279 88.1406 77.2401C86.2428 76.4522 86.1374 76.3537 87.8243 76.3537C88.8786 76.2552 89.4058 75.7628 89.0895 75.2704C88.246 73.9902 86.77 73.9902 85.9265 75.3689Z" fill="#0582E9"/>
<path d="M10.2278 82.8543C9.80604 83.1498 9.48975 83.9376 9.48975 84.5285C9.48975 85.1194 10.0169 85.0209 10.7549 84.3316C11.3875 83.7407 11.7038 82.9528 11.493 82.6574C11.1767 82.3619 10.5441 82.4604 10.2278 82.8543Z" fill="#0582E9"/>
<path d="M16.4471 85.4143C13.7059 88.7626 11.1755 93.9821 12.0189 94.6715C12.2298 94.9669 12.757 94.0806 13.1787 92.8003C13.6004 91.5201 15.3928 88.6641 17.0797 86.3006C20.6644 81.475 20.2427 80.7857 16.4471 85.4143Z" fill="#0582E9"/>
<path d="M85.4004 83.5425C85.4004 84.4288 85.9276 85.1182 86.4547 85.1182C87.0873 85.1182 87.509 84.7242 87.509 84.2318C87.509 83.6409 87.0873 82.9516 86.4547 82.6561C85.9276 82.3607 85.4004 82.7546 85.4004 83.5425Z" fill="#0582E9"/>
<path d="M80.551 86.5961C82.7651 89.649 82.6597 90.6338 80.4456 88.9596C79.075 87.8763 82.5542 94.6715 84.9792 97.7244C85.0846 97.9214 85.0846 96.5427 84.9792 94.6715C84.6629 91.5201 80.7619 84.1341 79.3913 84.1341C79.075 84.1341 79.6021 85.2173 80.551 86.5961ZM84.3466 93.4897C84.3466 93.9821 83.8194 93.7852 83.2923 92.9973C82.7651 92.2095 82.238 91.0277 82.238 90.5353C82.238 89.9444 82.7651 90.2399 83.2923 91.0277C83.8194 91.8156 84.3466 92.8989 84.3466 93.4897Z" fill="#0582E9"/>
<path d="M17.0815 88.3685C15.6054 90.0427 12.6533 96.4439 12.6533 98.0196C12.6533 98.709 14.1294 96.6409 15.9217 93.4895C18.9793 88.073 19.5064 85.5125 17.0815 88.3685Z" fill="#0582E9"/>
<path d="M81.2884 99.0039C81.183 103.042 77.1765 108.754 75.9113 106.784C75.3842 105.898 74.857 106.193 74.3299 107.67C73.9081 109.049 71.4832 110.723 67.793 112.2C62.5214 114.465 62.2051 114.761 63.6812 116.238C64.6301 117.124 66.1061 117.518 66.9496 117.223C67.793 116.927 68.5311 117.124 68.5311 117.617C68.5311 118.109 67.5822 118.7 66.5278 119.094C64.2083 119.783 54.4031 129.336 55.1411 130.124C55.4574 130.419 57.9878 129.533 60.729 128.056C63.3649 126.677 66.0007 125.791 66.5278 126.086C67.055 126.382 67.4767 125.988 67.4767 125.2C67.4767 123.821 69.2691 122.639 70.7451 122.935C71.1669 122.935 72.3266 122.344 73.381 121.458C77.7037 118.011 81.183 118.7 81.183 123.033C81.183 124.412 81.8156 123.723 83.1862 121.064C85.7166 116.238 85.9274 117.42 83.8188 124.018C80.7612 133.571 77.9146 136.427 78.6526 129.139L79.0743 125.003L77.8091 129.435C76.6494 133.275 75.8059 134.162 71.4832 136.23C66.317 138.593 66.317 138.593 58.515 135.737C57.0389 135.245 57.3552 135.737 59.3584 137.313C60.9399 138.495 62.0997 139.775 61.7834 140.07C61.4671 140.267 60.4127 139.972 59.4639 139.184C57.7769 137.904 57.7769 138.002 58.7258 139.775C59.3584 140.858 59.7802 144.601 59.5693 148.146C59.3584 151.691 59.253 156.615 59.1476 159.176C59.1476 161.638 58.4095 165.282 57.5661 167.251C56.7226 169.221 56.4063 170.994 56.828 171.19C57.2498 171.486 58.7258 168.827 59.991 165.282C61.3616 161.835 62.8377 158.683 63.3649 158.388C63.892 158.092 64.3138 157.009 64.3138 155.926C64.3138 154.843 65.0518 153.759 65.8952 153.464C66.7387 153.07 67.4767 152.282 67.4767 151.494C67.4767 150.805 68.8474 148.737 70.6397 146.964C73.0647 144.502 74.0136 144.01 74.6462 144.995C75.3842 146.078 75.7005 145.881 76.2276 144.305C76.9657 141.745 80.0232 140.464 81.2884 142.336C82.0264 143.517 82.2373 143.419 82.2373 142.139C82.2373 141.252 83.3971 140.07 84.7677 139.48C86.9818 138.495 87.1926 138.692 86.7709 140.563C86.3492 142.533 86.4546 142.533 87.8252 140.267C88.7741 138.889 89.1959 136.624 88.8796 134.753C88.5633 132.98 88.8796 131.404 89.5121 131.01C90.2502 130.518 90.1447 129.533 88.985 127.859C87.6144 126.086 87.4035 124.314 87.9307 120.768C89.5121 110.526 89.723 105.11 88.7741 101.86L87.7198 98.413L87.6144 103.14C87.5089 105.701 86.6655 109.443 85.7166 111.511C84.7677 113.481 83.6079 116.041 83.2916 117.124C82.9753 118.208 82.4482 118.602 82.0264 118.109C81.7101 117.518 82.1319 114.465 82.9753 111.117C84.4514 105.898 84.346 104.617 82.9753 100.284L81.3938 95.4586L81.2884 99.0039Z" fill="#0582E9"/>
<path d="M14.8661 100.285C13.4955 103.83 13.7064 108.754 15.3933 115.845C15.815 117.716 15.6041 118.602 14.6552 118.602C13.9172 118.602 13.6009 118.307 13.9172 118.011C14.339 117.716 13.3901 114.959 11.914 111.906C9.91078 107.671 9.48905 105.307 9.91078 101.861C10.4379 97.429 10.4379 97.429 8.96189 100.383C6.95867 104.224 6.95867 109.739 8.96189 116.042C10.4379 120.67 10.4379 121.655 8.96189 125.496C7.3804 129.731 7.6967 132.094 9.48905 129.435C10.3325 128.155 10.5434 128.155 10.5434 129.534C10.5434 130.42 10.0162 132.488 9.38362 134.261C8.43472 136.821 8.54016 137.806 10.4379 140.564C12.652 143.814 13.4955 143.617 11.5977 140.268C10.7542 138.692 10.8597 138.496 12.0194 138.889C12.8629 139.185 13.8118 140.071 14.1281 140.859C14.4444 141.548 15.3933 141.942 16.3422 141.647C17.3965 141.253 17.9237 141.647 17.9237 142.829C17.9237 144.207 18.24 144.306 18.7671 143.42C20.1377 141.45 23.1953 143.124 23.3007 146.079L23.3007 148.639L24.355 146.177L25.4094 143.814L27.9398 146.669C29.3104 148.344 31.3136 151.2 32.2625 153.071C33.3168 154.942 34.8983 158.093 35.9526 159.964C36.9015 161.836 38.2722 165.873 38.9047 168.828C40.908 178.282 41.0134 178.38 40.3808 169.32C40.0645 164.396 39.6428 159.078 39.5373 157.502C39.5373 155.828 39.0102 152.874 38.5884 150.904C37.9559 148.245 38.1667 146.079 39.4319 143.223C41.4351 138.496 41.5406 137.511 39.8536 139.086C39.1156 139.776 38.0613 140.268 37.4287 140.268C36.9015 140.17 37.8504 139.086 39.5373 137.708C41.7514 135.935 42.0677 135.344 40.5917 135.837C33.7386 138.102 31.6299 138.299 28.0452 136.92C23.0899 135.049 20.0323 131.897 20.0323 128.844C20.0323 127.466 19.6106 126.579 18.978 126.973C18.3454 127.269 18.24 128.746 18.5563 130.125C19.716 134.458 16.553 132.193 15.1824 127.761C14.4444 125.496 13.0738 122.148 12.1249 120.178C9.27819 114.663 10.8597 113.974 13.9172 119.489C16.2367 123.723 16.7639 124.117 17.1856 122.443C17.6074 120.966 18.3454 120.474 19.5051 120.966C20.8758 121.458 21.0866 121.163 20.5595 119.489C19.3997 116.239 22.0355 118.208 23.8279 121.951C25.0931 124.61 25.1985 124.708 25.3039 122.739C25.3039 120.572 25.5148 120.67 31.2082 124.413C34.4766 126.579 38.7993 128.844 41.0134 129.534C43.1221 130.125 45.7579 131.799 47.0231 133.178L49.2371 135.738L52.0838 131.208C53.5599 128.844 54.8251 126.185 54.8251 125.496C54.8251 124.807 55.6685 123.329 56.7229 122.246C58.4098 120.375 58.4098 120.277 56.1957 121.36C54.9305 122.049 52.7164 123.92 51.2404 125.693C49.7643 127.466 48.4991 128.647 48.2882 128.45C41.4351 119.686 41.7514 119.981 39.0102 121.557C37.6396 122.345 37.6396 122.64 39.221 124.117C40.908 125.693 41.0134 125.693 40.3808 123.723C40.0645 122.542 40.1699 121.557 40.4862 121.557C41.4351 121.557 44.5981 128.549 43.8601 129.14C43.6492 129.337 41.0134 127.466 38.1667 124.807C35.32 122.246 31.2082 118.799 29.0995 117.322C26.9909 115.845 25.3039 114.072 25.3039 113.481C25.3039 112.792 26.78 113.58 28.5724 115.254C30.7864 117.125 32.0516 117.716 32.3679 116.83C32.6842 116.239 33.6331 115.648 34.582 115.648C35.6363 115.549 33.6331 114.269 30.3647 112.694C26.9909 111.019 23.8279 108.853 23.1953 107.769C22.5627 106.686 21.6138 105.997 21.0866 106.292C19.9269 106.982 17.8182 103.436 16.8693 99.3986L16.2367 96.4442L14.8661 100.285Z" fill="#0582E9"/>
<path d="M95.311 122.147C95.311 124.511 95.6273 126.185 96.1545 125.89C97.2088 125.299 97.3143 118.897 96.2599 118.307C95.7328 118.011 95.4165 119.784 95.311 122.147Z" fill="#0582E9"/>
<path d="M0.106161 121.163C0.000728112 123.034 0.949621 125.299 2.10938 126.579C3.7963 128.45 4.1126 128.549 3.26914 126.973C2.63654 125.89 1.68765 123.428 1.16049 121.557L0.211593 118.11L0.106161 121.163Z" fill="#0582E9"/>
<path d="M0 127.958C0 128.451 0.527163 129.632 1.05433 130.42C1.58149 131.208 2.10865 131.405 2.10865 130.913C2.10865 130.322 1.58149 129.239 1.05433 128.451C0.527163 127.663 0 127.367 0 127.958Z" fill="#0582E9"/>
<path d="M52.4002 134.851C51.6621 136.624 47.3394 136.821 45.5471 135.147C43.7547 133.472 43.9656 135.54 45.9688 138.101C46.8122 139.283 48.2883 140.268 49.0263 140.268C50.5024 140.268 54.4034 134.556 53.4545 133.768C53.1382 133.472 52.7165 133.965 52.4002 134.851Z" fill="#0582E9"/>
<path d="M86.5592 147.654C85.7158 149.919 83.0799 152.677 79.0735 155.533C72.0095 160.555 63.3641 169.616 62.7315 172.57C62.5206 173.752 61.7826 175.524 61.15 176.706C58.1979 181.827 57.249 188.327 57.5653 200.834C57.8816 214.227 58.725 221.023 60.0956 221.023C60.5174 221.023 61.15 222.894 61.3608 225.257C61.6771 227.522 63.0478 230.969 64.4184 232.939C65.789 234.908 67.4759 237.371 68.214 238.355C68.952 239.439 68.6357 237.961 67.4759 235.302C62.8369 223.485 61.15 217.083 60.9391 210.485C60.7282 206.546 61.0445 203.395 61.5717 203.395C62.8369 203.493 64.3129 201.228 64.3129 199.061C64.3129 197.781 63.7858 197.387 62.3097 197.88C60.6228 198.372 60.3065 197.88 59.8848 194.925C59.463 191.281 61.4663 188.13 62.5206 190.691C62.9423 191.478 63.3641 191.183 63.7858 189.804C64.2075 188.622 65.4727 187.342 66.527 187.047C67.7922 186.653 68.5302 185.471 68.5302 184.092C68.5302 180.744 70.6389 179.956 70.7443 183.304C70.7443 184.782 71.0606 185.471 71.3769 184.782C71.5878 184.191 72.3258 183.797 72.853 184.191C73.3801 184.486 73.8019 184.191 73.8019 183.6C73.8019 183.107 76.3323 181.138 79.3898 179.267C85.9266 175.328 86.8755 174.343 89.195 169.32L90.882 165.578L85.3995 170.108C82.3419 172.669 76.2268 176.411 71.6932 178.38C67.0542 180.449 63.5749 182.615 63.7858 183.304C64.1021 184.289 61.3608 186.062 60.5174 185.274C59.8848 184.683 62.5206 176.706 63.2586 176.706C63.7858 176.706 64.6292 175.328 65.2618 173.752C65.8944 171.979 65.8944 170.994 65.3673 171.29C64.7347 171.684 64.3129 171.585 64.3129 171.093C64.4184 169.813 73.8019 163.608 75.5942 163.608C76.4377 163.608 78.4409 162.426 79.917 161.048C81.6039 159.472 82.7636 158.98 83.0799 159.768C83.6071 161.442 85.3995 161.245 85.3995 159.472C85.3995 156.419 87.5081 158.093 87.6135 161.146C87.6135 163.313 88.3516 161.737 89.6168 156.518C91.3037 149.525 91.3037 148.442 89.9331 146.473C88.9842 145.192 88.2461 144.208 88.1407 144.208C88.0353 144.208 87.2972 145.783 86.5592 147.654Z" fill="#0582E9"/>
<path d="M7.06314 147.753C6.00881 149.722 5.79795 151.2 6.43054 152.185C6.9577 152.972 7.37944 154.548 7.37944 155.73C7.37944 157.306 7.9066 157.699 9.38265 157.306C10.7533 157.01 11.5967 157.502 12.1239 158.881C12.4402 159.965 13.3891 160.654 14.1271 160.358C15.076 160.063 15.814 161.343 16.5521 164.101L17.7118 168.335L17.8173 164.593C17.8173 162.623 18.3444 160.949 18.7662 160.949C20.1368 160.949 29.7311 166.858 33.105 169.714C35.4245 171.684 35.8462 171.881 35.0028 170.305C33.5267 167.548 22.5617 157.896 17.0792 154.548C14.5489 152.972 11.7022 150.215 10.6478 148.245L8.75006 144.798L7.06314 147.753Z" fill="#0582E9"/>
<path d="M7.37939 168.433C7.37939 170.698 10.5424 174.243 15.6031 177.592C17.3955 178.773 18.977 180.546 18.977 181.432C18.977 182.614 19.2933 182.811 19.8204 181.925C20.453 180.94 21.0856 180.94 22.7726 182.122C25.6192 184.091 26.3573 183.993 26.3573 181.137C26.3573 179.266 25.3029 178.281 21.9291 176.607C19.3987 175.425 15.1814 172.963 12.4402 171.19C9.59348 169.319 7.37939 168.138 7.37939 168.433Z" fill="#0582E9"/>
<path d="M34.2656 174.342C37.2178 178.774 39.0101 185.569 37.1123 185.569C35.4254 185.569 34.4765 183.599 36.058 183.501C36.796 183.501 35.5308 182.615 33.2113 181.63L28.994 179.759L28.6777 182.319C28.4669 183.895 28.8886 185.274 29.9429 185.766C30.7864 186.258 32.2624 187.342 33.2113 188.129C34.1602 189.016 35.2145 189.508 35.5308 189.114C37.0069 187.834 39.0101 190.985 39.0101 194.629C39.0101 198.47 38.9047 198.47 35.8471 197.879C33.2113 197.387 32.6842 197.584 32.6842 199.061C32.7896 201.424 35.0037 204.083 36.5852 203.591C37.2178 203.394 38.0612 204.083 38.4829 205.167C39.3264 207.727 38.1666 211.371 36.796 210.583C36.058 210.189 35.9526 211.469 36.3743 214.227C36.796 217.181 36.4797 219.742 35.4254 222.204C34.4765 224.272 33.7385 226.931 33.7385 228.211C33.7385 229.491 32.5787 232.544 31.3135 235.105C29.9429 237.567 29.2049 239.438 29.8375 239.044C30.3646 238.749 31.7353 236.582 32.7896 234.219C33.9493 231.855 35.32 229.688 35.8471 229.393C36.4797 229.098 36.9015 227.817 36.9015 226.537C36.9015 225.257 37.8504 221.711 39.0101 218.659C40.3807 214.818 41.1188 210.386 41.1188 204.97C41.1188 200.538 41.1188 194.826 41.1188 192.266C41.2242 185.667 38.2721 177.001 34.5819 173.456L31.5244 170.304L34.2656 174.342Z" fill="#0582E9"/>
<path d="M10.6482 185.373C11.3862 187.047 18.4502 193.842 21.9295 196.206C27.2011 199.653 30.2586 200.539 30.9967 198.668C31.7347 196.895 31.1021 196.403 24.7762 193.251C22.4566 192.168 18.2393 189.706 15.3927 187.835C12.6514 185.964 10.4373 184.88 10.6482 185.373ZM26.0413 196.6C25.725 197.388 25.4088 197.092 25.4088 196.009C25.3033 194.926 25.6196 194.335 25.9359 194.729C26.2522 195.024 26.3576 195.91 26.0413 196.6Z" fill="#0582E9"/>
<path d="M80.1289 188.129C77.4931 190.001 74.541 192.069 73.3812 192.758C72.3269 193.447 71.5889 194.826 71.7997 195.811C72.2215 197.387 72.6432 197.19 75.9116 194.826C79.918 191.872 85.9277 185.667 85.2951 185.175C85.0842 184.978 82.7647 186.357 80.1289 188.129Z" fill="#0582E9"/>
<path d="M19.0832 187.145C19.0832 188.228 19.3995 188.523 19.7158 187.736C20.0321 187.046 19.9266 186.16 19.6103 185.864C19.294 185.47 18.9777 186.061 19.0832 187.145Z" fill="#0582E9"/>
<path d="M67.2659 195.516C65.579 196.402 64.5247 200.341 66.0007 200.341C67.8985 200.341 70.6398 197.978 70.6398 196.402C70.6398 194.235 69.9017 194.039 67.2659 195.516Z" fill="#0582E9"/>
<path d="M15.077 199.948C16.0259 201.031 16.8693 202.705 16.8693 203.591C16.8693 204.576 17.3965 204.97 18.4508 204.675C19.6106 204.182 20.0323 204.773 20.1377 206.841C20.2432 208.614 20.454 209.008 20.7703 207.925C21.1921 206.546 21.6138 206.349 22.7736 207.334C23.617 207.925 24.3551 209.402 24.3551 210.584C24.4605 212.258 24.5659 212.258 24.9876 210.879C25.6202 208.712 26.6746 208.712 28.8887 211.076C30.7864 213.046 33.844 213.243 34.582 211.371C34.7929 210.682 33.6331 209.697 31.9462 209.106C28.4669 207.925 19.5052 202.804 15.815 199.948L13.1792 197.88L15.077 199.948Z" fill="#0582E9"/>
<path d="M79.8138 200.144C78.8649 201.03 74.5422 203.886 70.2194 206.25C65.7913 208.712 62.2065 211.272 62.2065 211.962C62.2065 212.848 62.9446 213.045 64.3152 212.651C66.0021 212.159 66.4238 212.454 66.5293 214.325C66.6347 216.196 66.8456 215.999 67.3727 213.636C67.7945 211.568 68.7434 210.583 70.4303 210.386C71.6955 210.189 72.7498 209.5 72.7498 208.81C72.7498 207.727 77.5997 204.773 79.0758 204.97C79.3921 205.068 80.3409 203.591 81.2898 201.72C83.1876 198.076 82.4496 197.386 79.8138 200.144Z" fill="#0582E9"/>
</svg>

        </div>
            <div class="login-box">
                <div class="input-group">
                    <input type="text" id="nickname" class="login-input" placeholder="Insira seu nickname..." style="margin-top: 40px">
                    <span id="nickname-error" class="error-message"></span>
                </div>
                <div class="input-group">
                    <input type="text" id="apiKey" class="login-input" placeholder="Insira sua API Key...">
                    <span id="apiKey-error" class="error-message"></span>
                </div>
                <div class="api-link">
                    <a href="https://aistudio.google.com/app/apikey" target="_blank">Não tem uma Key? Clique aqui</a>
                </div>
                <button id="loginBtn">Despertar</button>
            </div>
        </div>
    </div>

    <div class="app-container hidden" id="chat-container">
        <div class="chat-screen">
            <div class="chat-header">
                <h2 id="welcome-message"></h2>
            </div>
            <div class="chat-body" id="chat-body">
                <!-- As mensagens do chat serão inseridas aqui via JavaScript -->
            </div>
            <div class="chat-input-area">
                <input type="text" id="chatInput" placeholder="Faça sua pergunta, e os ecos do Lich responderão...">
                <button id="sendBtn">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const loginContainer = document.getElementById('login-container');
            const chatContainer = document.getElementById('chat-container');
            const loginBtn = document.getElementById('loginBtn');
            const apiKeyInput = document.getElementById('apiKey');
            const nicknameInput = document.getElementById('nickname');
            const welcomeMessage = document.getElementById('welcome-message');
            const chatInput = document.getElementById('chatInput');
            const sendBtn = document.getElementById('sendBtn');
            const chatBody = document.getElementById('chat-body');
            const nicknameError = document.getElementById('nickname-error');
            const apiKeyError = document.getElementById('apiKey-error');
            const canvasEl = document.querySelector("canvas#neuro");

            let nickname = '';
            let geminiApiKey = '';
            
            // Variáveis e funções do WebGL
            const devicePixelRatio = Math.min(window.devicePixelRatio, 2);
            const pointer = {
                x: 0,
                y: 0,
                tX: 0,
                tY: 0,
            };
            let uniforms;
            const gl = initShader();
            setupEvents();
            resizeCanvas();
            window.addEventListener("resize", resizeCanvas);
            render();

            function initShader() {
                const vsSource = document.getElementById("vertShader").innerHTML;
                const fsSource = document.getElementById("fragShader").innerHTML;
                const gl = canvasEl.getContext("webgl") || canvasEl.getContext("experimental-webgl");

                if (!gl) {
                    console.error("WebGL is not supported by your browser.");
                    return null;
                }

                function createShader(gl, sourceCode, type) {
                    const shader = gl.createShader(type);
                    gl.shaderSource(shader, sourceCode);
                    gl.compileShader(shader);

                    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                        console.error("An error occurred compiling the shaders: " + gl.getShaderInfoLog(shader));
                        gl.deleteShader(shader);
                        return null;
                    }
                    return shader;
                }

                const vertexShader = createShader(gl, vsSource, gl.VERTEX_SHADER);
                const fragmentShader = createShader(gl, fsSource, gl.FRAGMENT_SHADER);

                function createShaderProgram(gl, vertexShader, fragmentShader) {
                    const program = gl.createProgram();
                    gl.attachShader(program, vertexShader);
                    gl.attachShader(program, fragmentShader);
                    gl.linkProgram(program);

                    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
                        console.error("Unable to initialize the shader program: " + gl.getProgramInfoLog(program));
                        return null;
                    }
                    return program;
                }

                const shaderProgram = createShaderProgram(gl, vertexShader, fragmentShader);
                uniforms = getUniforms(shaderProgram);

                function getUniforms(program) {
                    let uniforms = [];
                    let uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);
                    for (let i = 0; i < uniformCount; i++) {
                        let uniformName = gl.getActiveUniform(program, i).name;
                        uniforms[uniformName] = gl.getUniformLocation(program, uniformName);
                    }
                    return uniforms;
                }

                const vertices = new Float32Array([-1., -1., 1., -1., -1., 1., 1., 1.]);
                const vertexBuffer = gl.createBuffer();
                gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
                gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);

                gl.useProgram(shaderProgram);

                const positionLocation = gl.getAttribLocation(shaderProgram, "a_position");
                gl.enableVertexAttribArray(positionLocation);
                gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
                gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

                return gl;
            }

            function render() {
                const currentTime = performance.now();
                pointer.x += (pointer.tX - pointer.x) * .5;
                pointer.y += (pointer.tY - pointer.y) * .5;
                gl.uniform1f(uniforms.u_time, currentTime * 0.3);
                gl.uniform2f(uniforms.u_pointer_position, pointer.x / window.innerWidth, 1 - pointer.y / window.innerHeight);
                gl.uniform1f(uniforms.u_scroll_progress, window["pageYOffset"] / (2 * window.innerHeight));
                gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
                requestAnimationFrame(render);
            }

            function resizeCanvas() {
                canvasEl.width = window.innerWidth * devicePixelRatio;
                canvasEl.height = window.innerHeight * devicePixelRatio;
                gl.uniform1f(uniforms.u_ratio, canvasEl.width / canvasEl.height);
                gl.viewport(0, 0, canvasEl.width, canvasEl.height);
            }

            function setupEvents() {
                window.addEventListener("pointermove", e => { updateMousePosition(e.clientX, e.clientY); });
                window.addEventListener("touchmove", e => { updateMousePosition(e.targetTouches[0].clientX, e.targetTouches[0].clientY); });
                window.addEventListener("click", e => { updateMousePosition(e.clientX, e.clientY); });
                function updateMousePosition(eX, eY) {
                    pointer.tX = eX;
                    pointer.tY = eY;
                }
            }
            
            loginBtn.addEventListener('click', () => {
                geminiApiKey = apiKeyInput.value.trim();
                nickname = nicknameInput.value.trim();

                let hasError = false;
                
                // Limpa as classes de erro e mensagens
                nicknameInput.classList.remove('input-error');
                apiKeyInput.classList.remove('input-error');
                nicknameError.style.display = 'none';
                apiKeyError.style.display = 'none';

                // Verifica se os campos estão preenchidos e adiciona a classe de erro se necessário
                if (!nickname) {
                    nicknameInput.classList.add('input-error');
                    nicknameError.textContent = 'Esqueceu este campo, aventureiro...';
                    nicknameError.style.display = 'block';
                    hasError = true;
                }
                if (!geminiApiKey) {
                    apiKeyInput.classList.add('input-error');
                    apiKeyError.textContent = 'Esqueceu este campo, aventureiro...';
                    apiKeyError.style.display = 'block';
                    hasError = true;
                }
                
                if (hasError) {
                    return; // Impede a transição para a tela de chat
                }

                loginContainer.style.opacity = '0';
                setTimeout(() => {
                    loginContainer.classList.add('hidden');
                    chatContainer.classList.remove('hidden');
                    chatContainer.style.opacity = '1';
                    welcomeMessage.textContent = `Olá, ${nickname}`;
                }, 500); // tempo para transição
            });

            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('chat-message');
                messageDiv.classList.add(sender === 'user' ? 'user-message' : 'gemini-message');
                messageDiv.textContent = text;
                chatBody.appendChild(messageDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            async function sendMessage() {
                const userMessage = chatInput.value.trim();
                if (userMessage === '') return;

                addMessage(userMessage, 'user');
                chatInput.value = '';

                // Gerando uma resposta do LLM usando a API do Gemini
                const systemPrompt = "Você é um assistente de IA prestativo e amigável. Responda às perguntas de forma concisa e útil.";
                const userQuery = userMessage;
                const apiKey = geminiApiKey; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };
                
                addMessage("Digitando...", 'gemini');

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    const candidate = result.candidates?.[0];
                    const geminiResponse = candidate?.content?.parts?.[0]?.text || "Desculpe, não consegui obter uma resposta.";

                    chatBody.removeChild(chatBody.lastChild);
                    addMessage(geminiResponse, 'gemini');
                } catch (error) {
                    console.error("Erro ao chamar a API:", error);
                    chatBody.removeChild(chatBody.lastChild);
                    addMessage("Ocorreu um erro ao se comunicar com a API. Por favor, verifique sua chave.", 'gemini');
                }
            }

            sendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });
    </script>
</body>
</html>
